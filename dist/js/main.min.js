"use strict";var windowWidth=$(window).width()+17,windowHeight=$(window).height(),documentHeight=$(document).height()-140,isMobile=is_mobile();function is_mobile(){return!(!/Mobi/i.test(navigator.userAgent)&&!/Android/i.test(navigator.userAgent))}console.log(isMobile);var heroOffsetTop=$(".hero__container").offset().top,imgsrc=$(".loader__gif").attr("src");$(document).ready(function(){$(".loader").delay(3e3).fadeOut("slow",function(){$(".loader__gif").attr("src","")}),heroOffsetTop>2*windowHeight&&($(".hero__container").css("top","-100%"),windowWidth>640&&!isMobile&&$(".nav").css("bottom","100%")),windowWidth>1080&&$("footer").addClass("fixed"),$(".hero__container").css("opacity","1")});var instagram={token:"1975026352.c6e2de8.3ef7709ab1e847beb0b6805c7c985fad",count:"&count=4",template:Handlebars.compile($("#insta-template").html()),clientX:void 0,overlayOn:!1,request:function(){windowWidth<640&&windowHeight>480&&(this.count="&count=2"),windowWidth>1080&&windowHeight>700&&(this.count="&count=6"),windowWidth>1280&&windowHeight>910&&(this.count="&count=8"),$.getJSON("https://api.instagram.com/v1/users/self/media/recent/?access_token="+this.token+this.count).done(function(i){var e=this.template(i);$(".instagram__wrapper").append(e)}.bind(this)).fail(function(){$(".instagram").css("display","none")}),this.opening(),this.mouseReaction()},opening:function(){$(".instagram__triangle").on("click",function(i){$(".projectSheet__modal").hasClass("open")&&$(".instagram").toggleClass("open"),!1===this.overlayOn?($(".instagram, .overlay").addClass("open"),this.overlayOn=!0):$(".projectSheet__modal").hasClass("open")||($(".instagram, .overlay").removeClass("open"),this.overlayOn=!1)}.bind(this))},updatePosition:function(i){windowWidth>640&&!ismobile&&(instagram.clientX=i.pageX/windowWidth,instagram.clientX>.75?$(".instagram").addClass("peak"):$(".instagram").removeClass("peak"))},mouseReaction:function(){$("body").mousemove(_.throttle(this.updatePosition,300))}};instagram.request();var decoTile={lineCount:void 0,maxTile:void 0,tileCount:0,increase:!0,lineNumber:0,line:void 0,lineTop:0,creaLines:function(){$(".content__deco").each(function(){decoTile.lineCount=$(this).data("lines");for(var i=0;i<decoTile.lineCount;i++)$(this).append('<div class="line"></div>');decoTile.maxTile=(decoTile.lineCount+1)/2,windowWidth<1080?($(this).css("width",60*decoTile.maxTile),$(this).css("height",60*decoTile.maxTile)):windowWidth>1080&&($(this).css("width",80*decoTile.maxTile),$(this).css("height",80*decoTile.maxTile)),decoTile.tileCount=0,decoTile.increase=!0,decoTile.lineNumber=0,$(this).find(".line").each(function(){var i=$(this),e=0;decoTile.lineNumber++,windowWidth<1080?e=30*decoTile.lineNumber+"px":windowWidth>1080&&(e=40*decoTile.lineNumber+"px"),i.css("top",e),decoTile.tileCount<decoTile.maxTile&&decoTile.increase?decoTile.tileCount+=1:(decoTile.tileCount-=1,decoTile.increase=!1);for(var t=0;t<decoTile.tileCount;t++)i.append('<div class="tile"></div>')})})},anim:function(){$(".tile").mouseover(function(){if(windowWidth>640&&!isMobile&&!1===$(this).hasClass("hover")){var i=$(this);i.addClass("hover"),setTimeout(function(){i.removeClass("hover")},1200)}})},init:function(){this.creaLines(),this.anim()}};decoTile.init();var scrollAnim={$body:$("body"),$hero:$(".hero"),$imgHero:$(".hero__anim"),$hero__container:$(".hero__container"),$deco__left:$(".content__deco--left"),$deco__right:$(".content__deco--right"),$nav:$(".nav"),$navBG:$(".navBG"),$instagram:$(".instagram"),$projects:$(".projects"),$projectSheet:$(".projectSheet"),$gallery:$(".gallery"),$main:$("main"),$footer:$("footer"),$bgLight:$(".bg--light"),$petale:$("#petale"),$scrolldown:$(".scrolldown"),instagramRight:void 0,deco__leftTop:void 0,deco__rightBottom:void 0,scrollLevel:void 0,gifAnim:void 0,parallaxWeb:void 0,navBGin:!1,scroll:function(){this.scrollLevel=$(window).scrollTop(),this.scrollLevel>0&&this.$scrolldown.addClass("gone"),windowWidth>640&&!isMobile&&(this.scrollLevel>0&&(this.$hero__container.css("top","45%"),this.$nav.css("bottom","0"),windowWidth>1080?(this.instagramRight="-350px",this.deco__leftTop="-250px",this.deco__rightBottom="-50px"):windowWidth>720?this.instagramRight="-50vw":(this.instagramRight="-90vw",this.deco__leftTop="-300px",this.deco__rightBottom="0"),this.$deco__left.css("top",this.deco__leftTop),this.$deco__right.css("bottom",this.deco__rightBottom),!1===this.$instagram.hasClass("open")&&this.$instagram.css("right",this.instagramRight)),this.gifAnim=Math.floor(this.scrollLevel/500*25),this.gifAnim<25?(this.gifAnim<10&&(this.gifAnim="0"+this.gifAnim.toString()),this.$imgHero.attr("src","img/header/gif-header"+this.gifAnim+".png")):this.$imgHero.attr("src","img/header/gif-header25.png")),this.scrollLevel>600?(this.$petale.addClass("animPetale"),windowWidth>640&&!isMobile&&(this.$hero__container.css("top","-100%"),this.$nav.css({bottom:"100%",opacity:"0"}))):(this.$petale.removeClass("animPetale"),windowWidth>640&&!isMobile&&(this.$hero__container.css("top","60%"),this.$hero__container.css("top","45%"),this.$nav.css({bottom:"0",opacity:"1"}))),this.scrollLevel>this.$hero.height()&&windowWidth>640&&!isMobile||this.scrollLevel>this.$hero.height()+400&&windowWidth<=640||this.scrollLevel+windowHeight>=documentHeight?(windowWidth>640&&!isMobile&&(this.$nav.addClass("main"),this.$navBG.removeClass("hide"),this.navBGin=!0),windowWidth>1080&&(windowHeight>750&&(this.$projectSheet.addClass("fixed"),this.$projectSheet.css({top:"0",right:"50%"}),this.$gallery.css("left","450px")),this.$footer.css({left:"-200px",bottom:"-200px"}),this.$bgLight.css("display","block"),this.$deco__left.addClass("fixed"),this.$deco__right.addClass("fixed"))):(windowWidth>640&&!isMobile&&(this.$nav.removeClass("main"),!0===this.navBGin&&(this.$navBG.addClass("hide"),this.navBGin=!1)),windowWidth>1080&&(windowHeight>750&&(this.$projectSheet.removeClass("fixed"),this.$projectSheet.css({top:0,right:0}),this.$gallery.css("left","auto")),this.$footer.css({left:"-450px",bottom:"-450px"}),this.$bgLight.css("display","none"),this.$deco__left.removeClass("fixed"),this.$deco__right.removeClass("fixed")))},init:function(){window.addEventListener("scroll",_.throttle(this.scroll,40).bind(this))}};scrollAnim.init();var _animLogo={gifLogo:0,maxGifLogo:42,finished:!0,mainInterval:void 0,animLogo:function(){_animLogo.gifLogo>_animLogo.maxGifLogo?(clearInterval(_animLogo.mainInterval),_animLogo.finished=!0):(_animLogo.finished=!1,_animLogo.gifLogo<10?$(".nav__img").attr("src","img/logo/logo0"+_animLogo.gifLogo+".png"):$(".nav__img").attr("src","img/logo/logo"+_animLogo.gifLogo+".png"),_animLogo.gifLogo+=1)},init:function(){$(".nav__logo").mouseenter(function(){this.finished&&windowWidth>640&&!isMobile&&(this.mainInterval=setInterval(this.animLogo,50),this.gifLogo=0,this.finished=!1,this.animLogo())}.bind(this))}};_animLogo.init(),$(".burger").click(function(){$(this).toggleClass("clicked"),$(this).hasClass("clicked")?($(".nav").addClass("down"),$(".nav").removeClass("up")):($(".nav").addClass("up"),$(".nav").removeClass("down"))});var modal={modalOpen:function(){$(".projectSheet__modal, .overlay").addClass("open"),instagram.overlayOn=!0},modalClose:function(){$(".projectSheet__modal, .overlay").removeClass("open"),instagram.overlayOn=!1},init:function(){$(document).on("click",".projectSheet__description__opening",function(){this.modalOpen()}.bind(this)),$(document).on("click",".projectSheet__modal__close",function(){this.modalClose()}.bind(this)).bind(this),$(".overlay").click(function(){this.modalClose(),$(".instagram").removeClass("open"),$(".burger").removeClass("clicked"),$(".nav").addClass("up"),$(".nav").removeClass("down")}.bind(this)),$(document).keyup(function(i){27==i.keyCode&&this.modalClose()}.bind(this))}};modal.init();var smoothScroll={$backtotop:$("a.backtotop"),click:function(){$("a.backtotop").on("click",function(i){i.preventDefault(),$("html, body").animate({scrollTop:0},1e3),isMobile&&($(".burger").removeClass("clicked"),$(".nav").addClass("up"),$(".nav").removeClass("down"))})}};smoothScroll.click(),$(document).on("click",".ajax-call",function(i){i.preventDefault();var e=this.href,t=this.getAttribute("data-id");switchPage(e,function(){window.history.pushState({page:e},"",e)},t)});function switchPage(i,e,t){$(".loader__gif").attr("src",imgsrc),$(".loader").css("display","flex"),$.get(i).done(function(i){$("main").empty();var e=$(i).filter("main").children();$("main").html(e),$(".loader").delay(1500).fadeOut("fast",function(){$(".loader__gif").attr("src","")});var t;t=isMobile?$(".hero").height()+450:$(".hero").height()+50,$("html").animate({scrollTop:t},800),isMobile&&$(".burger").hasClass("clicked")&&($(".burger").removeClass("clicked"),$(".nav").addClass("up"),$(".nav").removeClass("down"))}).fail(function(){alert("error"),$(".loader").delay(1500).fadeOut("fast",function(){$(".loader__gif").attr("src","")})}),document.body.id=t,e&&e()}window.addEventListener("popstate",function(i){i.state&&switchPage(i.state.page)}),window.addEventListener("orientationchange",function(){location.reload(forceGet)},!1);